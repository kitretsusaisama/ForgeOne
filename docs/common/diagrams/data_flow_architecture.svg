<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="1200" viewBox="0 0 1200 1200">
  <style>
    .process { fill: #90EE90; stroke: #333; stroke-width: 2; }
    .datastore { fill: #ADD8E6; stroke: #333; stroke-width: 2; }
    .external { fill: #FFD700; stroke: #333; stroke-width: 2; }
    .dataflow { fill: #FF9999; stroke: #333; stroke-width: 2; }
    .text { font-family: Arial; font-size: 14px; }
    .title { font-family: Arial; font-size: 24px; font-weight: bold; }
    .subtitle { font-family: Arial; font-size: 18px; font-weight: bold; }
    .description { font-family: Arial; font-size: 12px; fill: #555; }
    .line { stroke: #333; stroke-width: 2; }
    .dashed { stroke: #333; stroke-width: 2; stroke-dasharray: 5,5; }
    .arrow { stroke: #333; stroke-width: 2; marker-end: url(#arrowhead); }
    .data { fill: #E6E6FA; stroke: #333; stroke-width: 1; }
  </style>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="50" text-anchor="middle" class="title">ForgeOne Common Module Data Flow Architecture</text>
  <text x="600" y="80" text-anchor="middle" class="subtitle">Data Processing and Transformation Pipeline</text>

  <!-- External Data Sources -->
  <rect x="100" y="150" width="1000" height="80" rx="10" class="external" />
  <text x="600" y="190" text-anchor="middle" class="subtitle">External Data Sources</text>
  
  <!-- External Data Source Components -->
  <rect x="150" y="180" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="210" y="205" text-anchor="middle" class="text" style="font-size: 12px;">API Requests</text>
  
  <rect x="300" y="180" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="360" y="205" text-anchor="middle" class="text" style="font-size: 12px;">Config Files</text>
  
  <rect x="450" y="180" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="510" y="205" text-anchor="middle" class="text" style="font-size: 12px;">User Input</text>
  
  <rect x="600" y="180" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="660" y="205" text-anchor="middle" class="text" style="font-size: 12px;">System Events</text>
  
  <rect x="750" y="180" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="810" y="205" text-anchor="middle" class="text" style="font-size: 12px;">Sensor Data</text>
  
  <rect x="900" y="180" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="960" y="205" text-anchor="middle" class="text" style="font-size: 12px;">External Services</text>

  <!-- Data Ingestion Layer -->
  <rect x="150" y="280" width="900" height="100" rx="10" class="process" />
  <text x="600" y="320" text-anchor="middle" class="subtitle">Data Ingestion Layer</text>
  <text x="600" y="345" text-anchor="middle" class="text">Input Validation, Normalization, and Parsing</text>
  
  <!-- Data Flow Arrows from External to Ingestion -->
  <line x1="210" y1="220" x2="210" y2="280" class="arrow" />
  <line x1="360" y1="220" x2="360" y2="280" class="arrow" />
  <line x1="510" y1="220" x2="510" y2="280" class="arrow" />
  <line x1="660" y1="220" x2="660" y2="280" class="arrow" />
  <line x1="810" y1="220" x2="810" y2="280" class="arrow" />
  <line x1="960" y1="220" x2="960" y2="280" class="arrow" />

  <!-- Data Processing Layer -->
  <rect x="150" y="430" width="900" height="150" rx="10" class="process" />
  <text x="600" y="460" text-anchor="middle" class="subtitle">Data Processing Layer</text>
  
  <!-- Processing Components -->
  <rect x="200" y="480" width="150" height="80" rx="5" fill="white" stroke="#333" />
  <text x="275" y="510" text-anchor="middle" class="text">Transformation</text>
  <text x="275" y="530" text-anchor="middle" class="description">model.rs</text>
  
  <rect x="400" y="480" width="150" height="80" rx="5" fill="white" stroke="#333" />
  <text x="475" y="510" text-anchor="middle" class="text">Validation</text>
  <text x="475" y="530" text-anchor="middle" class="description">policy.rs</text>
  
  <rect x="600" y="480" width="150" height="80" rx="5" fill="white" stroke="#333" />
  <text x="675" y="510" text-anchor="middle" class="text">Enrichment</text>
  <text x="675" y="530" text-anchor="middle" class="description">telemetry.rs</text>
  
  <rect x="800" y="480" width="150" height="80" rx="5" fill="white" stroke="#333" />
  <text x="875" y="510" text-anchor="middle" class="text">Encryption</text>
  <text x="875" y="530" text-anchor="middle" class="description">crypto.rs</text>
  
  <!-- Data Flow Arrow from Ingestion to Processing -->
  <line x1="600" y1="380" x2="600" y2="430" class="arrow" />

  <!-- Data Storage Layer -->
  <rect x="150" y="630" width="900" height="100" rx="10" class="datastore" />
  <text x="600" y="670" text-anchor="middle" class="subtitle">Data Storage Layer</text>
  <text x="600" y="695" text-anchor="middle" class="text">Persistence and Retrieval</text>
  
  <!-- Storage Components -->
  <rect x="200" y="650" width="120" height="60" rx="5" fill="white" stroke="#333" />
  <text x="260" y="680" text-anchor="middle" class="text" style="font-size: 12px;">In-Memory Cache</text>
  
  <rect x="350" y="650" width="120" height="60" rx="5" fill="white" stroke="#333" />
  <text x="410" y="680" text-anchor="middle" class="text" style="font-size: 12px;">Document Store</text>
  
  <rect x="500" y="650" width="120" height="60" rx="5" fill="white" stroke="#333" />
  <text x="560" y="680" text-anchor="middle" class="text" style="font-size: 12px;">Relational DB</text>
  
  <rect x="650" y="650" width="120" height="60" rx="5" fill="white" stroke="#333" />
  <text x="710" y="680" text-anchor="middle" class="text" style="font-size: 12px;">Time Series DB</text>
  
  <rect x="800" y="650" width="120" height="60" rx="5" fill="white" stroke="#333" />
  <text x="860" y="680" text-anchor="middle" class="text" style="font-size: 12px;">Blob Storage</text>
  
  <!-- Data Flow Arrows from Processing to Storage -->
  <line x1="275" y1="560" x2="260" y2="630" class="arrow" />
  <line x1="475" y1="560" x2="410" y2="630" class="arrow" />
  <line x1="675" y1="560" x2="560" y2="630" class="arrow" />
  <line x1="875" y1="560" x2="710" y2="630" class="arrow" />
  <line x1="875" y1="560" x2="860" y2="630" class="arrow" />

  <!-- Data Access Layer -->
  <rect x="150" y="780" width="900" height="100" rx="10" class="process" />
  <text x="600" y="820" text-anchor="middle" class="subtitle">Data Access Layer</text>
  <text x="600" y="845" text-anchor="middle" class="text">Query, Retrieval, and Access Control</text>
  
  <!-- Data Flow Arrow from Storage to Access -->
  <line x1="600" y1="730" x2="600" y2="780" class="arrow" />

  <!-- Data Consumers -->
  <rect x="100" y="930" width="1000" height="80" rx="10" class="external" />
  <text x="600" y="970" text-anchor="middle" class="subtitle">Data Consumers</text>
  
  <!-- Consumer Components -->
  <rect x="150" y="950" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="210" y="975" text-anchor="middle" class="text" style="font-size: 12px;">UI/Dashboards</text>
  
  <rect x="300" y="950" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="360" y="975" text-anchor="middle" class="text" style="font-size: 12px;">API Clients</text>
  
  <rect x="450" y="950" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="510" y="975" text-anchor="middle" class="text" style="font-size: 12px;">Reports</text>
  
  <rect x="600" y="950" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="660" y="975" text-anchor="middle" class="text" style="font-size: 12px;">Analytics</text>
  
  <rect x="750" y="950" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="810" y="975" text-anchor="middle" class="text" style="font-size: 12px;">Notifications</text>
  
  <rect x="900" y="950" width="120" height="40" rx="5" fill="white" stroke="#333" />
  <text x="960" y="975" text-anchor="middle" class="text" style="font-size: 12px;">Audit Logs</text>
  
  <!-- Data Flow Arrows from Access to Consumers -->
  <line x1="210" y1="880" x2="210" y2="950" class="arrow" />
  <line x1="360" y1="880" x2="360" y2="950" class="arrow" />
  <line x1="510" y1="880" x2="510" y2="950" class="arrow" />
  <line x1="660" y1="880" x2="660" y2="950" class="arrow" />
  <line x1="810" y1="880" x2="810" y2="950" class="arrow" />
  <line x1="960" y1="880" x2="960" y2="950" class="arrow" />

  <!-- Data Types -->
  <rect x="100" y="1030" width="1000" height="150" rx="10" stroke="#333" stroke-width="2" fill="#F8F8F8" />
  <text x="600" y="1055" text-anchor="middle" class="subtitle">Common Data Types</text>
  
  <!-- Data Type Components -->
  <rect x="150" y="1075" width="140" height="80" rx="5" class="data" />
  <text x="220" y="1105" text-anchor="middle" class="text">Configuration</text>
  <text x="220" y="1125" text-anchor="middle" class="description">config.rs</text>
  
  <rect x="320" y="1075" width="140" height="80" rx="5" class="data" />
  <text x="390" y="1105" text-anchor="middle" class="text">Identity</text>
  <text x="390" y="1125" text-anchor="middle" class="description">identity.rs</text>
  
  <rect x="490" y="1075" width="140" height="80" rx="5" class="data" />
  <text x="560" y="1105" text-anchor="middle" class="text">Telemetry</text>
  <text x="560" y="1125" text-anchor="middle" class="description">telemetry.rs</text>
  
  <rect x="660" y="1075" width="140" height="80" rx="5" class="data" />
  <text x="730" y="1105" text-anchor="middle" class="text">Audit Records</text>
  <text x="730" y="1125" text-anchor="middle" class="description">audit.rs</text>
  
  <rect x="830" y="1075" width="140" height="80" rx="5" class="data" />
  <text x="900" y="1105" text-anchor="middle" class="text">Policy Rules</text>
  <text x="900" y="1125" text-anchor="middle" class="description">policy.rs</text>
</svg>