<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="600" viewBox="0 0 800 600">
  <style>
    .title { font: bold 20px sans-serif; }
    .component { font: bold 14px sans-serif; }
    .description { font: 12px sans-serif; }
    .feature { font: italic 12px sans-serif; }
    .component-box { stroke: #333; stroke-width: 2; }
    .container { fill: #e6f7ff; }
    .network { fill: #e6ffe6; }
    .firewall { fill: #ffe6e6; }
    .mesh { fill: #fff2e6; }
    .host { fill: #f2e6ff; }
    .arrow { stroke: #666; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
    .bidirectional { marker-end: url(#arrowhead); marker-start: url(#arrowhead-start); }
  </style>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
    <marker id="arrowhead-start" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="10 0, 0 3.5, 10 7" fill="#666" />
    </marker>
  </defs>
  
  <rect width="100%" height="100%" fill="white" />
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="title">Container Runtime Network Architecture</text>
  
  <!-- Host Network -->
  <rect x="50" y="70" width="700" height="480" rx="10" ry="10" class="component-box host" opacity="0.2" />
  <text x="400" y="90" text-anchor="middle" class="component">Host Network Namespace</text>
  
  <!-- Container Network Namespace -->
  <rect x="100" y="120" width="600" height="380" rx="10" ry="10" class="component-box container" opacity="0.2" />
  <text x="400" y="140" text-anchor="middle" class="component">Container Network Namespace</text>
  
  <!-- Network Bridge -->
  <rect x="150" y="170" width="500" height="80" rx="10" ry="10" class="component-box network" />
  <text x="400" y="200" text-anchor="middle" class="component">Virtual Network Bridge</text>
  <text x="400" y="220" text-anchor="middle" class="description">Connects containers to host network</text>
  
  <!-- Firewall -->
  <rect x="150" y="280" width="500" height="80" rx="10" ry="10" class="component-box firewall" />
  <text x="400" y="310" text-anchor="middle" class="component">Container Firewall</text>
  <text x="400" y="330" text-anchor="middle" class="description">Network policy enforcement</text>
  
  <!-- Service Mesh -->
  <rect x="150" y="390" width="500" height="80" rx="10" ry="10" class="component-box mesh" />
  <text x="400" y="420" text-anchor="middle" class="component">Service Mesh</text>
  <text x="400" y="440" text-anchor="middle" class="description">Inter-container communication</text>
  
  <!-- Container 1 -->
  <rect x="180" y="500" width="120" height="60" rx="10" ry="10" class="component-box container" />
  <text x="240" y="530" text-anchor="middle" class="component">Container 1</text>
  
  <!-- Container 2 -->
  <rect x="340" y="500" width="120" height="60" rx="10" ry="10" class="component-box container" />
  <text x="400" y="530" text-anchor="middle" class="component">Container 2</text>
  
  <!-- Container 3 -->
  <rect x="500" y="500" width="120" height="60" rx="10" ry="10" class="component-box container" />
  <text x="560" y="530" text-anchor="middle" class="component">Container 3</text>
  
  <!-- External Network -->
  <rect x="300" y="20" width="200" height="40" rx="10" ry="10" class="component-box" fill="#ccc" />
  <text x="400" y="45" text-anchor="middle" class="component">External Network</text>
  
  <!-- Network Components -->
  <!-- veth pairs -->
  <circle cx="240" y="250" r="10" class="component-box network" />
  <text x="240" y="275" text-anchor="middle" class="feature">veth0</text>
  
  <circle cx="400" y="250" r="10" class="component-box network" />
  <text x="400" y="275" text-anchor="middle" class="feature">veth1</text>
  
  <circle cx="560" y="250" r="10" class="component-box network" />
  <text x="560" y="275" text-anchor="middle" class="feature">veth2</text>
  
  <!-- Port Mappings -->
  <rect x="200" y="350" width="80" height="30" rx="5" ry="5" class="component-box firewall" opacity="0.7" />
  <text x="240" y="370" text-anchor="middle" class="feature">Port 8080</text>
  
  <rect x="360" y="350" width="80" height="30" rx="5" ry="5" class="component-box firewall" opacity="0.7" />
  <text x="400" y="370" text-anchor="middle" class="feature">Port 9000</text>
  
  <rect x="520" y="350" width="80" height="30" rx="5" ry="5" class="component-box firewall" opacity="0.7" />
  <text x="560" y="370" text-anchor="middle" class="feature">Port 3000</text>
  
  <!-- Mesh Endpoints -->
  <rect x="200" y="460" width="80" height="30" rx="5" ry="5" class="component-box mesh" opacity="0.7" />
  <text x="240" y="480" text-anchor="middle" class="feature">svc-a</text>
  
  <rect x="360" y="460" width="80" height="30" rx="5" ry="5" class="component-box mesh" opacity="0.7" />
  <text x="400" y="480" text-anchor="middle" class="feature">svc-b</text>
  
  <rect x="520" y="460" width="80" height="30" rx="5" ry="5" class="component-box mesh" opacity="0.7" />
  <text x="560" y="480" text-anchor="middle" class="feature">svc-c</text>
  
  <!-- Connections -->
  <!-- External to Host -->
  <path d="M 400 60 L 400 70" class="arrow" />
  
  <!-- Bridge to Firewall -->
  <path d="M 400 250 L 400 280" class="arrow" />
  
  <!-- Firewall to Mesh -->
  <path d="M 400 360 L 400 390" class="arrow" />
  
  <!-- Mesh to Containers -->
  <path d="M 240 470 L 240 500" class="arrow" />
  <path d="M 400 470 L 400 500" class="arrow" />
  <path d="M 560 470 L 560 500" class="arrow" />
  
  <!-- Inter-container Communication -->
  <path d="M 300 530 L 340 530" class="arrow" stroke-dasharray="5,5" />
  <path d="M 460 530 L 500 530" class="arrow" stroke-dasharray="5,5" />
  
  <!-- veth to Bridge -->
  <path d="M 240 250 L 240 210" class="arrow" />
  <path d="M 400 250 L 400 210" class="arrow" />
  <path d="M 560 250 L 560 210" class="arrow" />
</svg>